/* 
 * jQuery Accordion Slider
 * 
 * Based on Kwicks Accordion Slider
 * 
 * All Rights Reserved (c) 2011
 */
(function($){$.fn.kwicks=function(v){var w={isVertical:false,sticky:false,defaultKwick:0,event:'mouseover',spacing:0,duration:1000,descrAnim:500,descrOpacity:0.8};var o=$.extend(w,v);var x=(o.isVertical?'height':'width');var y=(o.isVertical?'top':'left');return this.each(function(){var k=$(this);var l=k.children('li');var m=k.find('li').find('.slide-description');var n=k.find('li').find('.slide-description-short');var p=l.length;var q=(k.css(x).replace(/px/,''))/p;k.addClass('sliderActive');if(o.isVertical){k.addClass('vertical')}else{k.addClass('horizontal')}k.find('li').prepend('<span class="overlay"></span>');var r=l.height();var s=l.width();var t=k.find('li').find('.overlay');if(!o.max){o.max=(q*l.size())-(o.min*(l.size()-1))}else{o.min=((q*l.size())-o.max)/(l.size()-1)}if(!o.isVertical){n.css({width:q-40,opacity:o.descrOpacity,paddingRight:(q*l.size())-o.min});m.css({width:o.max-40,opacity:0,paddingRight:(q*l.size())-o.max});t.css({height:r})}else{t.css({width:s});n.css({width:s-20,opacity:o.descrOpacity});m.css({width:s-40,opacity:0})}if(o.sticky){n.css({opacity:0});l.eq(o.defaultKwick).find('.slide-description').css({opacity:o.descrOpacity})}if(o.isVertical){k.css({width:l.eq(0).css('width'),height:(q*l.size())+(o.spacing*(l.size()-1))+'px'})}else{k.css({width:(q*l.size())+(o.spacing*(l.size()-1))+'px',height:l.eq(0).css('height')})}var u=[];for(i=0;i<l.size();i++){u[i]=[];for(j=1;j<l.size()-1;j++){if(i==j){u[i][j]=o.isVertical?j*o.min+(j*o.spacing):j*o.min+(j*o.spacing)}else{u[i][j]=(j<=i?(j*o.min):(j-1)*o.min+o.max)+(j*o.spacing)}}}l.each(function(i){var h=$(this);if(i===0){h.css(y,'0px')}else if(i==l.size()-1){h.css(o.isVertical?'bottom':'right','0px')}else{if(o.sticky){h.css(y,u[o.defaultKwick][i])}else{h.css(y,(i*q)+(i*o.spacing))}}if(x=='width'){h.css({margin:0,position:'absolute',width:q})}else{h.css({margin:0,position:'absolute',height:q})}if(o.sticky){if(o.defaultKwick==i){h.css(x,o.max+'px');h.addClass('active')}else{h.css(x,o.min+'px')}}h.bind(o.event,function(){var c=[];var d=[];l.stop().removeClass('active');for(j=0;j<l.size();j++){c[j]=l.eq(j).css(x).replace(/px/,'');d[j]=l.eq(j).css(y).replace(/px/,'')}var e={};e[x]=o.max;var f=o.max-c[i];var g=c[i]/f;h.addClass('active').animate(e,{step:function(a){var b=f!=0?a/f-g:1;l.each(function(j){if(j!=i){l.eq(j).css(x,c[j]-((c[j]-o.min)*b)+'px')}if(j>0&&j<l.size()-1){l.eq(j).css(y,d[j]-((d[j]-u[i][j])*b)+'px')}})},duration:o.duration,easing:o.easing});n.stop().animate({opacity:0},o.descrAnim/2);m.stop().animate({opacity:o.descrOpacity},o.descrAnim/2);l.not('.active').find('.slide-description').stop().animate({opacity:0},o.descrAnim)})});if(!o.sticky){k.bind("mouseleave",function(){var c=[];var d=[];l.removeClass('active').stop();for(i=0;i<l.size();i++){c[i]=l.eq(i).css(x).replace(/px/,'');d[i]=l.eq(i).css(y).replace(/px/,'')}var e={};e[x]=q;var f=q-c[0];l.eq(0).animate(e,{step:function(a){var b=f!=0?(a-c[0])/f:1;for(i=1;i<l.size();i++){l.eq(i).css(x,c[i]-((c[i]-q)*b)+'px');if(i<l.size()-1){l.eq(i).css(y,d[i]-((d[i]-((i*q)+(i*o.spacing)))*b)+'px')}}},duration:o.duration,easing:o.easing});m.stop().animate({opacity:0},o.descrAnim/2);n.stop().animate({opacity:o.descrOpacity},o.descrAnim)})}})}})(jQuery);




